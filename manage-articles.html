<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Article Manager - The Nook</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .manager-container {
            max-width: 800px;
            margin: 2rem auto;
            padding: 0 20px;
        }
        
        .form-section {
            background: white;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            margin-bottom: 2rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: #2c3e50;
        }
        
        .form-group input, .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        .form-group input:focus, .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .takeaways-container {
            border: 2px solid #e9ecef;
            border-radius: 6px;
            padding: 1rem;
        }
        
        .takeaway-item {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            align-items: center;
        }
        
        .takeaway-item input {
            flex: 1;
            margin-bottom: 0;
        }
        
        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: background-color 0.3s ease;
        }
        
        .btn:hover {
            background: #2980b9;
        }
        
        .btn-secondary {
            background: #95a5a6;
        }
        
        .btn-secondary:hover {
            background: #7f8c8d;
        }
        
        .btn-danger {
            background: #e74c3c;
            padding: 0.5rem;
            font-size: 0.8rem;
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        .output-section {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 6px;
            padding: 1rem;
            margin-top: 1rem;
        }
        
        .output-section pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .existing-articles {
            display: grid;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .article-preview {
            border: 2px solid #e9ecef;
            border-radius: 6px;
            padding: 1rem;
            background: white;
        }
        
        .article-preview h3 {
            margin: 0 0 0.5rem 0;
            color: #2c3e50;
        }
        
        .article-preview p {
            margin: 0 0 1rem 0;
            color: #666;
            font-size: 0.9rem;
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <h1><a href="index.html" style="text-decoration: none; color: inherit;">The Nook</a></h1>
            <ul>
                <li><a href="index.html#Home">Home</a></li>
                <li><a href="index.html#Read">Read</a></li>
                <li><a href="#manage">Manage</a></li>
            </ul>
        </nav>
    </header>

    <div class="manager-container">
        <h1>Article Manager</h1>
        <p>Use this form to add new articles or edit existing ones. The generated code will help you update your website.</p>
        
        <!-- Existing Articles Display -->
        <div class="form-section">
            <h2>Existing Articles</h2>
            <div class="existing-articles" id="existingArticles">
                <!-- Articles will be loaded here -->
            </div>
        </div>

        <!-- Article Form -->
        <div class="form-section">
            <h2>Add/Edit Article</h2>
            <form id="articleForm">
                <div class="form-group">
                    <label for="articleId">Article ID (lowercase, no spaces):</label>
                    <input type="text" id="articleId" placeholder="e.g., my-favorite-essay" required>
                    <small>This will be used for the filename (e.g., my-favorite-essay.html)</small>
                </div>

                <div class="form-group">
                    <label for="title">Article Title:</label>
                    <input type="text" id="title" placeholder="The Amazing Article Title" required>
                </div>

                <div class="form-group">
                    <label for="description">Short Description (for the card):</label>
                    <textarea id="description" placeholder="A brief description that will appear on the main page card..."></textarea>
                </div>

                <div class="form-group">
                    <label for="imageUrl">Image URL:</label>
                    <input type="url" id="imageUrl" placeholder="https://via.placeholder.com/300x200/667eea/ffffff?text=YourTitle">
                </div>

                <div class="form-group">
                    <label for="personalNote">Your Personal Note:</label>
                    <textarea id="personalNote" placeholder="Why this article resonated with you..."></textarea>
                </div>

                <div class="form-group">
                    <label>Key Takeaways:</label>
                    <div class="takeaways-container">
                        <div id="takeawaysList">
                            <div class="takeaway-item">
                                <input type="text" placeholder="Enter a key takeaway...">
                                <button type="button" class="btn btn-danger" onclick="removeTakeaway(this)">×</button>
                            </div>
                        </div>
                        <button type="button" class="btn btn-secondary" onclick="addTakeaway()">Add Takeaway</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="summary">Article Summary:</label>
                    <textarea id="summary" placeholder="A longer summary of the article content..."></textarea>
                </div>

                <div class="form-group">
                    <label for="favoriteQuote">Favorite Quote (optional):</label>
                    <textarea id="favoriteQuote" placeholder="A memorable quote from the article..."></textarea>
                </div>

                <div class="form-group">
                    <label for="application">How You're Applying This:</label>
                    <textarea id="application" placeholder="How you're implementing the ideas from this article..."></textarea>
                </div>

                <div class="form-group">
                    <label for="originalLink">Original Article Link:</label>
                    <input type="url" id="originalLink" placeholder="https://example.com/original-article">
                </div>

                <div class="form-group">
                    <label for="publishDate">Publish Date:</label>
                    <input type="text" id="publishDate" placeholder="January 15, 2024">
                </div>

                <div class="form-group">
                    <label for="source">Source:</label>
                    <input type="text" id="source" placeholder="e.g., Harvard Business Review, Personal Blog">
                </div>

                <button type="submit" class="btn">Generate Article Code</button>
            </form>
        </div>

        <!-- Output Section -->
        <div class="form-section">
            <h2>Generated Code</h2>
            <p>Copy the code below and follow the instructions:</p>
            
            <div class="output-section">
                <h3>1. HTML Card Code (add to index.html)</h3>
                <pre id="cardOutput">Fill out the form above to generate code...</pre>
            </div>

            <div class="output-section">
                <h3>2. Individual Article Page (create new .html file)</h3>
                <pre id="pageOutput">Fill out the form above to generate code...</pre>
            </div>

            <div class="output-section">
                <h3>3. Instructions</h3>
                <div id="instructions">Fill out the form above to generate instructions...</div>
            </div>
        </div>
    </div>

    <script>
        // Sample data for existing articles (you can update this)
        const existingArticles = [
            {
                id: "mindfulness",
                title: "The Art of Mindfulness",
                description: "Exploring the transformative power of being present..."
            },
            {
                id: "productivity",
                title: "Rethinking Modern Productivity", 
                description: "Why the hustle culture isn't sustainable..."
            },
            {
                id: "digital-minimalism",
                title: "Digital Minimalism in Practice",
                description: "Practical strategies for reducing digital clutter..."
            }
        ];

        // Display existing articles
        function displayExistingArticles() {
            const container = document.getElementById('existingArticles');
            container.innerHTML = existingArticles.map(article => `
                <div class="article-preview">
                    <h3>${article.title}</h3>
                    <p><strong>ID:</strong> ${article.id}</p>
                    <p>${article.description}</p>
                    <button class="btn btn-secondary" onclick="editArticle('${article.id}')">Edit</button>
                </div>
            `).join('');
        }

        // Add takeaway function
        function addTakeaway() {
            const container = document.getElementById('takeawaysList');
            const newTakeaway = document.createElement('div');
            newTakeaway.className = 'takeaway-item';
            newTakeaway.innerHTML = `
                <input type="text" placeholder="Enter a key takeaway...">
                <button type="button" class="btn btn-danger" onclick="removeTakeaway(this)">×</button>
            `;
            container.appendChild(newTakeaway);
        }

        // Remove takeaway function
        function removeTakeaway(button) {
            button.parentElement.remove();
        }

        // Form submission
        document.getElementById('articleForm').addEventListener('submit', function(e) {
            e.preventDefault();
            generateCode();
        });

        function generateCode() {
            const formData = {
                id: document.getElementById('articleId').value,
                title: document.getElementById('title').value,
                description: document.getElementById('description').value,
                imageUrl: document.getElementById('imageUrl').value,
                personalNote: document.getElementById('personalNote').value,
                summary: document.getElementById('summary').value,
                favoriteQuote: document.getElementById('favoriteQuote').value,
                application: document.getElementById('application').value,
                originalLink: document.getElementById('originalLink').value,
                publishDate: document.getElementById('publishDate').value,
                source: document.getElementById('source').value
            };

            // Get takeaways
            const takeawayInputs = document.querySelectorAll('#takeawaysList input');
            const takeaways = Array.from(takeawayInputs)
                .map(input => input.value.trim())
                .filter(value => value !== '');

            generateCardCode(formData);
            generatePageCode(formData, takeaways);
            generateInstructions(formData);
        }

        function generateCardCode(data) {
            const cardCode = `                    <article class="article-card">
                        <div class="article-image">
                            <img src="${data.imageUrl}" alt="${data.title}">
                        </div>
                        <div class="article-content">
                            <h3 class="article-title">${data.title}</h3>
                            <p class="article-description">${data.description}</p>
                            <a href="${data.id}.html" class="article-link">Read More</a>
                        </div>
                    </article>`;

            document.getElementById('cardOutput').textContent = cardCode;
        }

        function generatePageCode(data, takeaways) {
            const takeawaysList = takeaways.map(t => `                        <li>${t}</li>`).join('\n');
            const quoteSection = data.favoriteQuote ? `
                    <h2>Quotes That Stuck With Me</h2>
                    <blockquote>
                        "${data.favoriteQuote}"
                    </blockquote>` : '';

            const pageCode = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${data.title} - The Nook</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <h1><a href="index.html" style="text-decoration: none; color: inherit;">The Nook</a></h1>
            <ul>
                <li><a href="index.html#Home">Home</a></li>
                <li><a href="index.html#Read">Read</a></li>
                <li><a href="index.html#About">About</a></li>
            </ul>
        </nav>
    </header>

    <main class="article-page">
        <div class="container">
            <article class="full-article">
                <header class="article-header">
                    <h1>${data.title}</h1>
                    <div class="article-meta">
                        <span class="article-date">Published: ${data.publishDate}</span>
                        <span class="article-source">Source: <a href="${data.originalLink}" target="_blank">${data.source}</a></span>
                    </div>
                </header>

                <div class="article-image-full">
                    <img src="${data.imageUrl}" alt="${data.title}">
                </div>

                <div class="article-body">
                    <h2>Why This Article Resonates</h2>
                    <div class="personal-note">
                        <p><strong>My Personal Take:</strong> ${data.personalNote}</p>
                    </div>

                    <h2>Key Takeaways</h2>
                    <ul>
${takeawaysList}
                    </ul>

                    <h2>Article Summary</h2>
                    <p>${data.summary}</p>${quoteSection}

                    <h2>How I'm Applying This</h2>
                    <div class="personal-note">
                        <p>${data.application}</p>
                    </div>
                </div>

                <div class="article-footer">
                    <a href="index.html#Read" class="back-link">← Back to Library</a>
                    <a href="${data.originalLink}" class="external-link" target="_blank">Read Original Article →</a>
                </div>
            </article>
        </div>
    </main>
</body>
</html>`;

            document.getElementById('pageOutput').textContent = pageCode;
        }

        function generateInstructions(data) {
            const instructions = `
<h3>How to add this article to your website:</h3>
<ol>
    <li><strong>Add the card to index.html:</strong> Copy the "HTML Card Code" above and paste it inside the &lt;div class="read-grid"&gt; section in your index.html file, after the existing articles.</li>
    <li><strong>Create the article page:</strong> Create a new file called "${data.id}.html" in the same folder as your index.html and paste the "Individual Article Page" code into it.</li>
    <li><strong>Save both files</strong> and refresh your website to see the new article!</li>
</ol>

<h3>Tips:</h3>
<ul>
    <li>Make sure the article ID is unique and doesn't contain spaces or special characters</li>
    <li>Use descriptive image URLs or upload images to an "images" folder</li>
    <li>Keep descriptions concise for the main page cards</li>
    <li>You can always come back and edit articles by creating new versions</li>
</ul>`;

            document.getElementById('instructions').innerHTML = instructions;
        }

        // Edit existing article (placeholder)
        function editArticle(id) {
            alert(`Editing ${id} - You would implement loading the article data into the form here`);
        }

        // Initialize
        displayExistingArticles();
    </script>
</body>
</html>